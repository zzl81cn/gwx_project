{"version":3,"sources":["webpack:///./src/page/modules/practice/other/echart/chart.vue","webpack:///./src/page/modules/practice/other/echart/chart.vue?0cb5","webpack:///./src/page/modules/practice/other/echart/chart.vue?f1af"],"names":["echart_chart","name","computed","AllLength","this","currentLength","screenWidth","chartList","length","moveLength","selectIndex","isCenter","parseInt","scrollLength","maxStep","max","forEach","number","data","_this","dateList","scrollListenHandle","console","log","$refs","scroll","scrollLeft","clickIndex","currentLeft","speed","mounted","screen","width","addEventListener","methods","onButtonClick","push","onTouchMove","update","_this2","rAF","setInterval","time","Date","startTime","clearInterval","onSelectDateClick","index","targetLeft","watch","handler","newArray","deep","chartList.length","removeEventListener","destroyed","other_echart_chart","render","_vm","_h","$createElement","_c","_self","staticClass","on","click","_v","ref","touchmove","style","_l","item","key","$event","class","child__chart--white","height","child__date--blue","_s","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/37.3bb89ac70335ac8920e3.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nconst singleWidth = 38\r\nconst duration = 100\r\nexport default {\r\n  name: 'chart',\r\n  computed: {\r\n    AllLength() {\r\n      const result =\r\n        this.currentLength > this.screenWidth\r\n          ? this.currentLength\r\n          : this.screenWidth\r\n      return result\r\n    },\r\n    currentLength() {\r\n      return singleWidth * this.chartList.length\r\n    },\r\n    moveLength() {\r\n      return this.AllLength - this.screenWidth\r\n    },\r\n    selectIndex() {\r\n      if (this.isCenter) {\r\n        return parseInt(\r\n          (this.scrollLength + this.screenWidth / 2) / singleWidth\r\n        )\r\n      } else {\r\n        return -1\r\n      }\r\n    },\r\n    maxStep() {\r\n      let max = 0\r\n      this.chartList.forEach(number => {\r\n        max = number > max ? number : max\r\n      })\r\n      return max\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      screenWidth: 0,\r\n      scrollLength: 0,\r\n      chartList: [\r\n        115,\r\n        52,\r\n        55,\r\n        44,\r\n        45,\r\n        115,\r\n        52,\r\n        55,\r\n        44,\r\n        45,\r\n        115,\r\n        52,\r\n        55,\r\n        44,\r\n        45\r\n      ],\r\n      dateList: [\r\n        '12/1',\r\n        '12/2',\r\n        '12/3',\r\n        '12/4',\r\n        '12/5',\r\n        '12/2',\r\n        '12/1',\r\n        '12/2',\r\n        '12/2',\r\n        '12/1',\r\n        '12/2',\r\n        '12/1',\r\n        '12/2',\r\n        '12/1',\r\n        '12/2'\r\n      ],\r\n      scrollListenHandle: () => {\r\n        console.log('正在滚动')\r\n        this.scrollLength = this.$refs.scroll.scrollLeft\r\n      },\r\n      isCenter: false,\r\n      clickIndex: -1,\r\n      currentLeft: 0,\r\n      speed: 0\r\n    }\r\n  },\r\n  mounted() {\r\n    // console.log('body : ' + document.body.offsetWidth)\r\n    // console.log('screen : ' + screen.width)\r\n    this.screenWidth = screen.width\r\n    if (this.currentLength) {\r\n      this.$refs.scroll.addEventListener('scroll', this.scrollListenHandle)\r\n    }\r\n  },\r\n  methods: {\r\n    onButtonClick() {\r\n      this.chartList.push(15, 15, 2, 121, 1)\r\n    },\r\n    onTouchMove() {\r\n      this.isCenter = true\r\n      this.clickIndex = -1\r\n    },\r\n    update() {\r\n      this.rAF = setInterval(() => {\r\n        const time = new Date() - this.startTime\r\n        this.$refs.scroll.scrollLeft = time * this.speed + this.currentLeft\r\n        if (time > duration) {\r\n          clearInterval(this.rAF)\r\n        }\r\n      })\r\n    },\r\n    onSelectDateClick(index) {\r\n      this.clickIndex = index\r\n      console.log('正在点击')\r\n\r\n      this.isCenter = false\r\n      // if (index * singleWidth - this.screenWidth / 2 > this.moveLength) {\r\n      //   return\r\n      // }\r\n      const targetLeft = index * singleWidth - this.screenWidth / 2\r\n      this.currentLeft = this.$refs.scroll.scrollLeft\r\n      this.speed = (targetLeft - this.currentLeft) / duration\r\n      this.startTime = new Date()\r\n      this.update()\r\n    }\r\n  },\r\n  watch: {\r\n    chartList: {\r\n      handler(newArray) {\r\n        console.log(newArray)\r\n      },\r\n      deep: true\r\n    },\r\n    'chartList.length'(newArray) {\r\n      this.$refs.scroll.removeEventListener('scroll', this.scrollListenHandle)\r\n      console.log(this.$refs.scroll.addEventListener)\r\n\r\n      console.log(1111, newArray)\r\n    }\r\n  },\r\n  destroyed() {\r\n    this.$refs.scroll.removeEventListener('scroll', this.scrollListenHandle)\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/page/modules/practice/other/echart/chart.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"chart\"},[_c('div',{on:{\"click\":_vm.onButtonClick}},[_vm._v(\"按钮\")]),_vm._v(\" \"),_c('div',{ref:\"scroll\",staticClass:\"chart__move\",on:{\"touchmove\":_vm.onTouchMove}},[_c('div',{ref:\"child\",staticClass:\"move__child\",style:({width:_vm.AllLength + 'px'})},_vm._l((_vm.chartList),function(item,index){return _c('div',{key:index,staticClass:\"child__wrap\",on:{\"click\":function($event){_vm.onSelectDateClick(index)}}},[_c('div',{staticClass:\"child__chart\",class:{'child__chart--white':_vm.selectIndex === index||_vm.clickIndex===index},style:({height:item/_vm.maxStep*180+'px'})}),_vm._v(\" \"),_c('div',{staticClass:\"child__date\",class:{'child__date--blue':_vm.selectIndex === index||_vm.clickIndex===index}},[_vm._v(_vm._s(_vm.dateList[index]))])])}))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-08dc0b2b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vux-loader/src/before-template-compiler-loader.js!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/modules/practice/other/echart/chart.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-08dc0b2b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/vux-loader/src/style-loader.js!../../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./chart.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../node_modules/vux-loader/src/script-loader.js!../../../../../../node_modules/vux-loader/src/script-loader.js!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./chart.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../node_modules/vux-loader/src/script-loader.js!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./chart.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-08dc0b2b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../../../../../node_modules/vux-loader/src/template-loader.js!../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./chart.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-08dc0b2b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/modules/practice/other/echart/chart.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}