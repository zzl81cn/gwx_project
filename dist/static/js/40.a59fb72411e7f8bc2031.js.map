{"version":3,"sources":["webpack:///./src/page/modules/javascript/async/index.js"],"names":["Object","defineProperty","__webpack_exports__","value","fn","delay","dateFn","Date","now","startTime","timer","loop","requestAnimationFrame","currentTime","console","log","ball","yMax","document","body","clientHeight","dir","pos","style","top"],"mappings":"qDAAAA,OAAAC,eAAAC,EAAA,cAAAC,OAAA,IAAAD,EAAA,iBAAO,SAA0BE,EAAIC,GACnC,IAAMC,EAASC,KAAKC,IAChBC,EAAYH,IACZI,SACJ,OAAO,SAASC,IACdD,EAAQE,sBAAsBD,GAC9B,IAAIE,EAAcP,IACbO,EAAcJ,EAAaJ,IAC9BS,QAAQC,IAAOV,EAAf,SACAD,EAAGM,MATTR,EAAA,SAiBO,SAAkBc,GACvB,IACIC,EAAOC,SAASC,KAAKC,aAAeJ,EAAKI,aAEzCC,EAAM,EACNC,EAAM,EACV,OAAO,SAASX,IACdC,sBAAsBD,IAClBW,EAPK,GAOSA,GAAOL,KAEvBI,IAAO,GAETC,GATU,EASHD,EACPP,QAAQC,IAAIM,EAVF,EAUcC,GACxBN,EAAKO,MAAMC,IAAMF,EAAM","file":"static/js/40.a59fb72411e7f8bc2031.js","sourcesContent":["export function animationRequest(fn, delay) {\n  const dateFn = Date.now\n  let startTime = dateFn()\n  let timer\n  return function loop() {\n    timer = requestAnimationFrame(loop)\n    let currentTime = dateFn()\n    if ((currentTime - startTime) > delay) {\n      console.log(`${delay}毫秒后执行`);\n      fn(timer)\n    }\n     /**\n      * 如果 timer = requestAnimationFrame(loop)放在此处更新\n      * 每次清楚的都是上一个timer，不会生效，因为requestAnimationFrame\n      * */\n  }\n}\nexport function ballMove(ball) {\n  let yMin = 0\n  let yMax = document.body.clientHeight - ball.clientHeight\n  let speed = 8\n  let dir = 1\n  let pos = 0\n  return function loop() {\n    requestAnimationFrame(loop)\n    if (pos < yMin || pos >= yMax) {\n      // 遇到临界值速度方向取反即可，而不是单纯的定义正和负\n      dir = -1 * dir\n    }\n    pos += dir * speed\n    console.log(dir, speed, pos);\n    ball.style.top = pos + 'px'\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/page/modules/javascript/async/index.js"],"sourceRoot":""}